# API "ToDo List"

### Сервис реализован с помощью инструментов Django и Django REST framework

---

Сервис предоставляет возможность пользователю регистрироваться с привязкой к одной или более организации, авторизовываться в одной конкретной организации, получая доступ к ToDo списку этой организации и возможность создавать новые ToDo объекты.

# Основные эндпоинты

1.	**API Root**

(http://localhost:8000/todo/)

Базовое корневое представление по умолчанию для DefaultRouter.

2.	**РЕГИСТРАЦИЯ**    (*Registration*)

(http://localhost:8000/todo/registration/)

Реализует регистрацию нового или существующего пользователя в конкретной компании.  
Возвращает 200 OK, если операция прошла успешно.

принимает обязательные поля:  
*Username* - имя профиля пользователя;  
*Email* - адрес электронной почты;  
*Password* - пароль для авторизации пользователя;  
*Company id* - id существующей компании.

3.	**АВТОРИЗАЦИЯ**    (*Login*)

(http://localhost:8000/todo/login/)

Реализует авторизацию пользователя в конкретной компании для доступа к ее ToDo списку.  
Возвращает 200 OK, если операция прошла успешно.

принимает обязательные поля:  
*Email* - адрес электронной почты;  
*Password* - пароль для авторизации пользователя;  
*Company id* - id компании, в которой зарегистрирован пользователь.

4.	**To Do List**

(http://localhost:8000/todo/todos/)

Реализует отображение ToDo списка компании, в которой авторизовался пользователь. Позволяет создавать новые ToDo объекты для конкретной компании.

принимает обязательные поля:  
*Description* - описание ToDo объекта;  
*Company* - название текущей компании (активно по умолчанию).

---

## Быстрый запуск проекта

*Требование: Docker Engine вер. 19.03.0 и выше*

1. Чтобы произвести сборку образа и запуск контейнера, из корневой папки проекта выполните следующую команду в терминале:

    ```
    docker-compose up -d --build
    ```

2. С помощью следующей команды вы можете создать суперпользователя:

    ```
    docker-compose exec web python manage.py createsuperuser
    ```

3. Перейдите в админ. панель http://localhost:8000/admin/ в вашем браузере и войдите под учетными данными созданного суперпользователя. Создайте новый объект организации. Теперь вы можете зарегистрировать нового пользователя в данной организации (http://localhost:8000/todo/registration/), авторизоваться в организации под его учетными данными (http://localhost:8000/todo/login/), а также перейти к ToDo списку и создать новые объекты (http://localhost:8000/todo/todos/).

Другие команды для работы с docker-контейнером проекта:
    
    docker-compose logs -f    # Вывод логов всех запущенных сервисов (Ctrl+C - для выхода)
    
    docker-compose down -v   # Удалить все тома вместе с контейнерами
    
    docker images       # Вывод списка всех запущенных образов
    docker images -a    # Вывод списка всех доступных образов
    
    docker ps       # Вывод списка всех запущенных контейнеров
    docker ps -a    # Вывод списка всех контейнеров
    
    docker stop $(docker ps -a -q)      # Остановить все контейнеры
    docker rm $(docker ps -a -q)     # Удалить все контейнеры

    docker rm <ID_or_Name>    # Удаление конкретного контейнера по ID или по имени
    
    docker rmi $(docker images -f dangling=true -q)    # Удаление всех образов, не помеченных тэгами
    
    docker rmi <Image_ID>    # Удаление конкретного образа по ID
    
    docker rmi $(docker images -a -q)    # Удаление всех образов
    
    docker rmi -f $(docker images -a -q)    # Форсированное удаление всех образов
    
